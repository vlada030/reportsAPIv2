extends layouts/main-layout.pug

block primaryNavBar
    include layouts/primaryNavBarAll.pug

block secondaryNavBar
    include layouts/secondaryNavBar.pug    
    
        block secondaryMenu
            include layouts/secondaryMenuProduct.pug

block content
    mixin formFields
        .form-group.row.align-items-center.pb-4
            label.col-md-4(for='productCode') Šifra proizvoda:
            .col-md-8
                input.form-control(type='number' name='sifra' placeholder='Unesi 7-cifreni broj' value=product ? product.sifra : '' id= isProductCodeIdExist ? 'updateProductCode' : '' autofocus=true)
                small Error message
        .form-group.row.align-items-center.pb-4
            label.col-md-4(for='cableType') Naziv proizvoda:
            .col-md-8
                input#cableType.form-control(type='text' name='proizvod' placeholder='Obavezno polje' value=product ? product.proizvod : '')
                small Error message
        .form-group.row.align-items-center.pb-4
            label.col-md-4(for='ratedVoltage') Nazivni napon:
            .col-md-8
                select#ratedVoltage.form-control(name='napon')
                    option(value='100V' selected=product&&product.napon==='100V' ? true : false) 100V
                    option(value='380V' selected=product&&product.napon==='380V' ? true : false) 380V
                    option(value='600V' selected=product&&product.napon==='600V' ? true : false) 600V
                    option(value='300/300V' selected=product&&product.napon==='300/300V' ? true : false) 300/300V
                    option(value='300/500V' selected=product&&product.napon==='300/500V' ? true : false) 300/500V
                    option(value='450/750V' selected=product&&product.napon==='450/750V' ? true : false) 450/750V
                    option(value='0.6/1kV' selected=product&&product.napon==='0.6/1kV' ? true : false) 0.6/1kV
                    option(value='3.6/6kV' selected=product&&product.napon==='3.6/6kV' ? true : false) 3.6/6kV
                    option(value='6/10kV' selected=product&&product.napon==='6/10kV' ? true : false) 6/10kV
                    option(value='8.7/15kV' selected=product&&product.napon==='8.7/15kV' ? true : false) 8.7/15kV
                    option(value='12/20kV' selected=product&&product.napon==='12/20kV' ? true : false) 12/20kV
                    option(value='18/30kV' selected=product&&product.napon==='18/30kV' ? true : false) 18/30kV
                    option(value='20/35kV' selected=product&&product.napon==='20/35kV' ? true : false) 20/35kV
                    option(value='20.8/36kV' selected=product&&product.napon==='20.8/36kV' ? true : false) 20.8/36kV
                    option(value='N/A' selected=product&&product.napon==='N/A' ? true : false) N/A
        .form-group.row.align-items-center.pb-4
            label.col-md-4(for='standard') Standard:
            .col-md-8
                input#standard.form-control(placeholder='Obavezno polje', type='text', name='propis' value=product ? product.propis : '')
                small Error message
        .form-group.row.align-items-center.pb-4
            label.col-md-4(for='productColor') Boja:
            .col-md-8
                select#productColor.form-control(name='boja')
                    option(value='crna' selected=product&&product.boja==='crna' ? true : false) Crna
                    option(value='siva' selected=product&&product.boja==='siva' ? true : false) Siva
                    option(value='bela' selected=product&&product.boja==='bela' ? true : false) Bela
                    option(value='crvena' selected=product&&product.boja==='crvena' ? true : false) Crvena
                    option(value='narandžasta' selected=product&&product.boja==='narandžasta' ? true : false) Narandžasta
                    option(value='žuto-zelena' selected=product&&product.boja==='žuto-zelena' ? true : false) Žuto-Zelena
                    option(value='plava' selected=product&&product.boja==='plava' ? true : false) Plava
                    option(value='braon' selected=product&&product.boja==='braon' ? true : false) Braon
                    option(value='zelena' selected=product&&product.boja==='zelena' ? true : false) Zelena
                    option(value='žuta' selected=product&&product.boja==='žuta' ? true : false) Žuta
                    option(value='bezbojna' selected=product&&product.boja==='bezbojna' ? true : false) Bezbojna
                    option(value='N/A' selected=product&&product.boja==='n/a' ? true : false) N/A
        .form-group.row.align-items-center.pb-4
            label.col-md-4(for='wiresNumber') Broj žica:
            .col-md-8
                .input-group
                    input#wiresNumber.form-control(placeholder='Obavezno polje', type='number', name='brojZica' value=product ? product.brojZica : '')
                    .input-group-append
                        span.input-group-text komada
                    small Error message
        .form-group.row.align-items-center.pb-4
            label.col-md-4(for='wireDiametar') Prečnik žice:
            .col-md-8
                .input-group
                    input#wireDiametar.form-control(placeholder='Obavezno polje', type='text', name='precnikZice' value=product ? product.precnikZice : '')
                    .input-group-append
                        span.input-group-text mm
                    small Error message
        .form-group.row.align-items-center.pb-4
            label.col-md-4(for='resistance') Električni otpor:
            .col-md-8
                .input-group
                    input#resistance.form-control(placeholder='Obavezno polje', type='text', name='otpor' value=product ? product.otpor : '')
                    .input-group-append
                        span.input-group-text Ohm/km
                    small Error message
        .form-group.row.align-items-center.pb-4
            label.col-md-4(for='semiFirst') Prvi poluprovodni sloj:
            .col-md-8
                .input-group
                    input#semiFirst.form-control(type='text', placeholder='/', name='debPPS1' value=product ? product.debPPS1 : '/')
                    .input-group-append
                        span.input-group-text mm
                    small Error message
        .form-group.row.align-items-center.pb-4
            label.col-md-4(for='thickInsulation') Debljina izolacije:
            .col-md-8
                .input-group
                    input#thickInsulation.form-control(placeholder='Obavezno polje', type='text', name='debIzolacije' value=product ? product.debIzolacije : '')
                    .input-group-append
                        span.input-group-text mm
                    small Error message
        .form-group.row.align-items-center.pb-4
            label.col-md-4(for='semiSecond') Drugi poluprovodni sloj:
            .col-md-8
                .input-group
                    input#semiSecond.form-control(placeholder='/', type='text', name='debPPS2' value=product ? product.debPPS2 : '/')
                    .input-group-append
                        span.input-group-text mm
                    small Error message
        .form-group.row.align-items-center.pb-4
            label.col-md-4(for='thickSheath') Debljina plašta:
            .col-md-8
                .input-group
                    input#thickSheath.form-control(placeholder='Obavezno polje', type='text', name='debPlasta',  value=product ? product.debPlasta : '')
                    .input-group-append
                        span.input-group-text mm
                    small Error message
        .form-group.row.align-items-center.pb-4
            label.col-md-4(for='outerDiametar') Spoljni prečnik:
            .col-md-8
                .input-group
                    input#outerDiametar.form-control(placeholder='Obavezno polje', type='text', name='spPrecnik' value=product ? product.spPrecnik : '')
                    .input-group-append
                        span.input-group-text mm
                    small Error message
        .form-group.row.align-items-center.pb-4
            label.col-md-4(for='testVoltage') Ispitni napon:
            .col-md-8
                select#testVoltage.form-control(name='ispitniNapon')
                    option(value='2' selected=product&&product.ispitniNapon=='2' ? true : false) 2kV
                    option(value='2.5' selected=product&&product.ispitniNapon=='2.5' ? true : false) 2.5kV
                    option(value='3' selected=product&&product.ispitniNapon=='3' ? true : false) 3kV
                    option(value='3.5' selected=product&&product.ispitniNapon=='3.5' ? true : false) 3.5kV
                    option(value='4' selected=product&&product.ispitniNapon=='4' ? true : false) 4kV
                    option(value='15' selected=product&&product.ispitniNapon=='15' ? true : false) 15kV
                    option(value='21' selected=product&&product.ispitniNapon=='21' ? true : false) 21kV
                    option(value='30' selected=product&&product.ispitniNapon=='30' ? true : false) 30kV
                    option(value='30.45' selected=product&&product.ispitniNapon=='30.45' ? true : false) 30.45kV
                    option(value='42' selected=product&&product.ispitniNapon=='42' ? true : false) 42kV
                    option(value='50' selected=product&&product.ispitniNapon=='50' ? true : false) 50kV
                    option(value='83.2' selected=product&&product.ispitniNapon=='83.2' ? true : false) 83.2kV
        .form-group.row.align-items-center.pb-4
            label.col-md-4(for='pDischarge') Parcijalna pražnjenja:
            .col-md-8
                select#pDischarge.form-control(name='parcijalna')
                    option(value='/' selected=product&&product.parcijalna==='/' ? true : false) /
                    option(value='<2' selected=product&&product.parcijalna.includes('2') ? true : false) &lt;2pC
                    option(value='<20' selected=product&&product.parcijalna.includes('20') ? true : false) &lt;20pC
        hr.w-75.mb-4
        .row.mb-4
            .col-md-6.mx-auto.row.justify-content-center
                input(type='hidden', name='_csrf', value=csrfToken)
                if isCreateForm
                    button.text-center.btn.btn-info.w-50.mb-2(type='submit') Sačuvaj
                else
                    button.text-center.btn.btn-info.w-50.mb-2#saveProductUpdate Sačuvaj
            //- .col-md-6.mx-auto.row.justify-content-center
            //-     input.btn.btn-info.w-50.mb-2(type='reset', value='Obriši polja')

    -var isCreateForm = title.startsWith('Dodaj');

    if errorMessage
        .alert.alert--error
            p #{errorMessage}
            p.close &times;

    if successMessage
        .alert.alert--success
            p #{successMessage}
            p.close &times;

    .container.mb-4.p-2
        h2.text-center.my-4 #{title}
        hr.w-25.mb-4
        .row
            .col-lg-8.bg-warning.rounded.mx-auto
                if isCreateForm
                    form#productHandleForm.p-4(action='/api/v2/products/create' method='POST' novalidate)
                        +formFields
                else
                    form#productHandleForm.p-4(novalidate)
                        +formFields
                    

block footer
    include layouts/footer.pug